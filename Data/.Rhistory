setwd('~/RTutorial/Data') #set working directory
library(ggplot2)
#---------------   function to read in data and get a few properties
read_file = function(file_name){
mydata = read.csv(file_name) #read csv file as r dataframe
#class(mydata) what is the type of 'mydata'
#ncol(mydata) how many columns in 'mydata'
#nrow(mydata) how many rows in 'mydata'
#head(mydata) prints the first rows of 'mydata'
#colnames(mydata) prints the column names of 'mydata'
data_summary = list(type=class(mydata), ncols=ncol(mydata),
nrow=nrow(mydata), head=head(mydata),
colnames=names(mydata))
return(list(mydata, data_summary))
}
returned_val = read_file(file_name="California_Home_Prices_(2009).csv")
mydata = returned_val[[1]]
data_summary = returned_val[[2]]
#-----------------------   describing data
sprintf("type of read-in data: %s", data_summary[[1]])
sprintf("data is %d by %d", data_summary[[3]], data_summary[[2]])
sprintf("names of the columns are:")
col_titles = paste(data_summary[[5]], collapse=', ')
sprintf(col_titles)
sprintf("type of column: %s", class(mydata$Location))
sprintf("number of unique values in column: %d", nlevels(mydata$Location))
sprintf("unique values in column: ")
sprintf(levels(mydata$Location))
#-----------------------   filtering and descriptive stats/summary
#by location
data_by_city = subset(mydata, Location=="Cambria")
print(head(data_by_city))
#by location and type of sale
data_by_city_sale = subset(mydata, Location=="Cambria" & Status=="Short Sale")
print(head(data_by_city_sale))
#mean
datat_by_city_sale_mean = colMeans(subset(data_by_city_sale,
select = c(Price, Bedrooms, Bathrooms, Sqft, Price.Sqft)),
na.rm = TRUE)
class(datat_by_city_sale_mean)
sprintf("means of cambria listings (short sale)")
print(datat_by_city_sale_mean)
#range
datat_by_city_sale_range = sapply(subset(data_by_city_sale,
select = c(Price, Bedrooms, Bathrooms, Sqft, Price.Sqft)),
range,
na.rm = TRUE)
class(datat_by_city_sale_range)
sprintf("means of cambria listings (short sale)")
print(datat_by_city_sale_range)
#mean and std for a specific column
sprintf("the mean for price: %f", mean(mydata$Price))
sprintf("the std for price: %f", sd(mydata$Price))
#summary of subset of data
summary(subset(data_by_city_sale,
select = c(Price, Bedrooms, Bathrooms, Sqft, Price.Sqft)))
#-----------------------   data visualization
#histogram
hist(mydata$Price, col="red") #histogram using hist function
qplot(mydata$Price,
geom="histogram", binwidth = 0.5) #histogram using ggplot
hist(mydata$Price, col="red") #histogram using hist function
hist(mydata$Price, col=rgb(1,0,0,0.5)) #histogram using hist function
hist(subset(mydata, Location=="Cambria")$Price, col=rgb(0,0,1,0.5))
box()
hist(mydata$Price, col=rgb(1,0,0,0.5)) #histogram using hist function
hist(subset(mydata, Location=="Cambria")$Price, col=rgb(0,0,1,0.5), add=T)
hist(subset(mydata, Location=="Cambria")$Price, col=rgb(0,0,1,0.5))
box()
hist(subset(mydata, Status=="Short Sale")$Price, col=rgb(0,0,1,0.5))
hist(subset(mydata, Status=="Short Sale")$Price, col=rgb(0,0,1,0.5), add=T)
box()
hist(mydata$Price, col=rgb(1,0,0,0.5)) #histogram using hist function
box()
hist(subset(mydata, Status=="Short Sale")$Price, col=rgb(0,0,1,0.5), add=T)
hist(mydata$Price, breaks=20, col=rgb(1,0,0,0.5)) #histogram using hist function
hist(subset(mydata, Status=="Short Sale")$Price, breaks=20, col=rgb(0,0,1,0.5), add=T)
hist(mydata$Price, breaks=40, col=rgb(1,0,0,0.5)) #histogram using hist function
hist(subset(mydata, Status=="Short Sale")$Price, breaks=20, col=rgb(0,0,1,0.5), add=T)
hist(mydata$Price, breaks=40, col=rgb(1,0,0,0.5)) #histogram using hist function
hist(subset(mydata, Status=="Foreclosure")$Price, breaks=20, col=rgb(0,0,1,0.5), add=T)
box()
hist(mydata$Price, breaks=40, col=rgb(1,0,0,0.5)) #histogram using hist function
hist(subset(mydata, Status=="Regular")$Price, breaks=20, col=rgb(0,0,1,0.5), add=T)
box()
plot(mydata$Sqft, mydata$Price, main="Price vs Sqft",
xlab="Sqft", ylab="Price", pch=19)
plot(mydata$Sqft, mydata$Price, main="Price vs Sqft", col=rgb(1,0,0,0.5),
xlab="Sqft", ylab="Price", pch=19)
plot(subset(mydata, Status=="Regular")$Sqft,
ubset(mydata, Status=="Regular")$Price,
main="Price vs Sqft",
col=rgb(1,0,0,0.5),
xlab="Sqft", ylab="Price", pch=19)
plot(subset(mydata, Status=="Regular")$Sqft,
subset(mydata, Status=="Regular")$Price,
main="Price vs Sqft",
col=rgb(1,0,0,0.5),
xlab="Sqft", ylab="Price", pch=19)
plot(subset(mydata, Status=="Foreclosure")$Sqft,
subset(mydata, Status=="Foreclosure")$Price,
main="Price vs Sqft",
col=rgb(1,0,0,0.5),
xlab="Sqft", ylab="Price", pch=19)
plot(mydata$Sqft, mydata$Price, main="Price vs Sqft", col=rgb(1,0,0,0.5),
xlab="Sqft", ylab="Price", pch=19)
plot(subset(mydata, Status=="Foreclosure")$Sqft,
subset(mydata, Status=="Foreclosure")$Price,
main="Price vs Sqft",
col=rgb(0,0,1,0.5),
xlab="Sqft", ylab="Price", pch=19, add=T)
plot(mydata$Sqft, mydata$Price, main="Price vs Sqft", col=rgb(1,0,0,0.5),
xlab="Sqft", ylab="Price", pch=19)
points(subset(mydata, Status=="Foreclosure")$Sqft, subset(mydata, Status=="Foreclosure")$Price, col=rgb(0,0,1,0.5))
plot(mydata$Sqft, mydata$Price, main="Price vs Sqft", col=rgb(1,0,0,0.5),
xlab="Sqft", ylab="Price")
points(subset(mydata, Status=="Foreclosure")$Sqft, subset(mydata, Status=="Foreclosure")$Price, col=rgb(0,0,1,0.5))
plot(mydata$Sqft, mydata$Price, main="Price vs Sqft", col=rgb(1,0,0,0.5),
xlab="Sqft", ylab="Price", pch=19)
points(subset(mydata, Status=="Foreclosure")$Sqft,
subset(mydata, Status=="Foreclosure")$Price,
col=rgb(0,0,1,0.5), pch=19)
legend("topright", legend=c("tann","pann"), pch=c(1,3))
legend("topright", legend=c("Overall","Foreclosure"), pch=c(1,3))
legend("topleft", legend=c("Overall","Foreclosure"), pch=c(1,3))
points(subset(mydata, Status=="Foreclosure")$Sqft,
subset(mydata, Status=="Foreclosure")$Price,
col=rgb(0,0,1,0.5), pch=19)
legend("topleft", legend=c("Overall","Foreclosure"), pch=c(1,3))
plot(mydata$Sqft, mydata$Price, main="Price vs Sqft", col=rgb(1,0,0,0.5),
xlab="Sqft", ylab="Price", pch=19)
points(subset(mydata, Status=="Foreclosure")$Sqft,
subset(mydata, Status=="Foreclosure")$Price,
col=rgb(0,0,1,0.5), pch=19)
legend("topleft", legend=c("Overall","Foreclosure"), pch=c(1,3))
legend("topleft", legend=c("Overall","Foreclosure"), pch=c(1,5))
legend("topleft", legend=c("Overall","Foreclosure"), pch=c(19,19))
legend("topleft", legend=c("Overall","Foreclosure"),
col=c(rgb(1,0,0,0.5),rgb(0,0,1,0.5)),
pch=c(19,19))
legend("topleft", legend=c("Overall","Foreclosure"),
cex = 0.75,
col=c(rgb(1,0,0,0.5),rgb(0,0,1,0.5)),
pch=c(19,19))
legend("topleft", legend=c("Overall","Foreclosure"),
cex = 0.75, bty='o'
col=c(rgb(1,0,0,0.5),rgb(0,0,1,0.5)),
pch=c(19,19))
hist(mydata$Price, breaks=40, col=rgb(1,0,0,0.5)) #histogram using hist function
hist(subset(mydata, Status=="Regular")$Price, breaks=20, col=rgb(0,0,1,0.5), add=T)
box()
plot(mydata$Sqft, mydata$Price, main="Price vs Sqft", col=rgb(1,0,0,0.5),
xlab="Sqft", ylab="Price", pch=19)
points(subset(mydata, Status=="Foreclosure")$Sqft,
subset(mydata, Status=="Foreclosure")$Price,
col=rgb(0,0,1,0.5), pch=19)
legend("topleft", legend=c("Overall","Foreclosure"),
cex = 0.75, bty='o'
col=c(rgb(1,0,0,0.5),rgb(0,0,1,0.5)),
pch=c(19,19))
legend("topleft", legend=c("Overall","Foreclosure"),
cex = 0.75, bty='o',
col=c(rgb(1,0,0,0.5),rgb(0,0,1,0.5)),
pch=c(19,19))
legend("topleft", legend=c("Overall","Foreclosure"),
cex = 0.9, text.width=10,
col=c(rgb(1,0,0,0.5),rgb(0,0,1,0.5)),
pch=c(19,19))
plot(mydata$Sqft, mydata$Price, main="Price vs Sqft", col=rgb(1,0,0,0.5),
xlab="Sqft", ylab="Price", pch=19)
points(subset(mydata, Status=="Foreclosure")$Sqft,
subset(mydata, Status=="Foreclosure")$Price,
col=rgb(0,0,1,0.5), pch=19)
legend("topleft", legend=c("Overall","Foreclosure"),
cex = 0.9, text.width=10,
col=c(rgb(1,0,0,0.5),rgb(0,0,1,0.5)),
pch=c(19,19))
plot(mydata$Sqft, mydata$Price, main="Price vs Sqft", col=rgb(1,0,0,0.5),
xlab="Sqft", ylab="Price", pch=19)
points(subset(mydata, Status=="Foreclosure")$Sqft,
subset(mydata, Status=="Foreclosure")$Price,
col=rgb(0,0,1,0.5), pch=19)
legend("topleft", legend=c("Overall","Foreclosure"),
cex = 0.9, text.width=100,
col=c(rgb(1,0,0,0.5),rgb(0,0,1,0.5)),
pch=c(19,19))
plot(mydata$Sqft, mydata$Price, main="Price vs Sqft", col=rgb(1,0,0,0.5),
xlab="Sqft", ylab="Price", pch=19)
points(subset(mydata, Status=="Foreclosure")$Sqft,
subset(mydata, Status=="Foreclosure")$Price,
col=rgb(0,0,1,0.5), pch=19)
legend("topleft", legend=c("Overall","Foreclosure"),
cex = 0.9, text.width=600,
col=c(rgb(1,0,0,0.5),rgb(0,0,1,0.5)),
pch=c(19,19))
plot(mydata$Sqft, mydata$Price, main="Price vs Sqft", col=rgb(1,0,0,0.5),
xlab="Sqft", ylab="Price", pch=19)
points(subset(mydata, Status=="Foreclosure")$Sqft,
subset(mydata, Status=="Foreclosure")$Price,
col=rgb(0,0,1,0.5), pch=19)
legend("topleft", legend=c("Overall","Foreclosure"),
cex = 0.9, text.width=1200,
col=c(rgb(1,0,0,0.5),rgb(0,0,1,0.5)),
pch=c(19,19))
plot(mydata$Sqft, mydata$Price, main="Price vs Sqft", col=rgb(1,0,0,0.5),
xlab="Sqft", ylab="Price", pch=19)
points(subset(mydata, Status=="Foreclosure")$Sqft,
subset(mydata, Status=="Foreclosure")$Price,
col=rgb(0,0,1,0.5), pch=19)
legend("topleft", legend=c("Overall","Foreclosure"),
cex = 0.9, text.width=2000,
col=c(rgb(1,0,0,0.5),rgb(0,0,1,0.5)),
pch=c(19,19))
plot(mydata$Sqft, mydata$Price, main="Price vs Sqft", col=rgb(1,0,0,0.5),
xlab="Sqft", ylab="Price", pch=19)
points(subset(mydata, Status=="Foreclosure")$Sqft,
subset(mydata, Status=="Foreclosure")$Price,
col=rgb(0,0,1,0.5), pch=19)
legend("topleft", legend=c("Overall","Foreclosure"),
cex = 0.9, text.width=1800,
col=c(rgb(1,0,0,0.5),rgb(0,0,1,0.5)),
pch=c(19,19))
plot(mydata$Sqft, mydata$Price, main="Price vs Sqft", col=rgb(1,0,0,0.5),
xlab="Sqft", ylab="Price", pch=19)
points(subset(mydata, Status=="Foreclosure")$Sqft,
subset(mydata, Status=="Foreclosure")$Price,
col=rgb(0,0,1,0.5), pch=19)
legend("topleft", legend=c("Overall","Foreclosure"),
cex = 1.4, text.width=1800,
col=c(rgb(1,0,0,0.5),rgb(0,0,1,0.5)),
pch=c(19,19))
plot(mydata$Sqft, mydata$Price, main="Price vs Sqft", col=rgb(1,0,0,0.5),
xlab="Sqft", ylab="Price", pch=19)
points(subset(mydata, Status=="Foreclosure")$Sqft,
subset(mydata, Status=="Foreclosure")$Price,
col=rgb(0,0,1,0.5), pch=19)
legend("topleft", legend=c("Overall","Foreclosure"),
cex = 0.9, text.width=1700,
col=c(rgb(1,0,0,0.5),rgb(0,0,1,0.5)),
pch=c(19,19))
setwd('~/RTutorial/Data')
mydata = read.csv(file_name)
mydata.lm = lm(Sqft ~ Price, data=mydata)
setwd('~/RTutorial/Data')
mydata = read.csv("California_Home_Prices_(2009).csv")
mydata.lm = lm(Sqft ~ Price, data=mydata)
coeffs = coefficients(eruption.lm)
coeffs = coefficients(mydata.lm)
coeffs = coefficients(mydata.lm);
x = 1; x
coeffs = coefficients(mydata.lm); coeffs
predict(mydata.lm, 2000)
mydata.lm = lm(Price ~ Sqft, data=mydata)
coeffs = coefficients(mydata.lm); coeffs
summary(mydata.lm)
plot(mydata.lm)
plot(mydata$Sqft, mydata$Price, main="Price vs Sqft", col=rgb(1,0,0,0.5),
xlab="Sqft", ylab="Price", pch=19)
abline(mydata.lm)
predict(mydata.lm, data.frame(test_x = c(4000, 500, 6000)))
predict(mydata.lm, data.frame(Sqft = c(4000, 500, 6000)))
shiny::runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
stopApp()
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runApp('Cali_House_Prices')
runExample("06_tabsets")
runApp('Cali_House_Prices_tabs')
setwd('~/RTutorial/Data') #sets working directory
mydata <- read.csv("California_Home_Prices_(2009).csv") #reads in data
mydata.lm <- lm(Price ~ Sqft, data=mydata) #linear model lm(y ~ x1 + ... + xn, data=mydata)
coeffs <- coefficients(mydata.lm); coeffs #coefficients of model
#summary(mydata.lm) #summary of fitted model
#plot(mydata.lm) #summary plots
#scatter plot with regression line
plot(mydata$Sqft, mydata$Price, main="Price vs Sqft", col=rgb(1,0,0,0.5),
xlab="Sqft", ylab="Price", pch=19)
abline(mydata.lm) #regression line
#use fitted model to predict
predict(mydata.lm, data.frame(Sqft=c(4000, 500, 6000)))
